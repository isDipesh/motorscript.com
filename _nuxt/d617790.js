(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{170:function(e,t,r){"use strict";var o={props:["title","published","updated","archived"],head:function(){return{title:this.title}}},n=r(8),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title",attrs:{itemprop:"name headline"}},[e._v(e._s(e.title))]),e._v(" "),r("div",{staticClass:"time"},[e._v("Published: "),r("time",{attrs:{itemprop:"datePublished"}},[e._v(e._s(e.published))])]),e._v(" "),e.updated?r("div",{staticClass:"time"},[e._v("Updated: "),r("time",{attrs:{itemprop:"dateModified"}},[e._v(e._s(e.updated))])]):e._e(),e._v(" "),e.archived?r("div",{staticClass:"block"},[e._v("Note: This is an archived post. Information may not be relevant now.")]):e._e()])}),[],!1,null,null,null);t.a=component.exports},222:function(e,t,r){"use strict";r.r(t);var o=r(170),n={mixins:[o.a],components:{BlogTitle:o.a},data:function(){return{project_dir:"app",user:"user",remote:"awecode.com",ssh_port:"22"}}},c=r(8),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{attrs:{itemprop:"blogPost",itemscope:"",itemtype:"https://schema.org/BlogPosting"}},[r("BlogTitle",{attrs:{title:"Using git to push websites to server",published:"12 Oct 2014"}}),e._v(" "),r("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"content",attrs:{itemprop:"articleBody"}},[r("div",{staticClass:"block"},[e._v("\n                This cheatsheet will push your repo to the "),r("i",{staticClass:"hl"},[e._v("app")]),e._v("\n                directory inside a user home directory in the remote server.\n                "),r("ul",[r("li",[e._v("Remote/Server (domain name or IP): "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.remote,expression:"remote"}],domProps:{value:e.remote},on:{input:function(t){t.target.composing||(e.remote=t.target.value)}}})]),e._v(" "),r("li",[e._v("User on Server : "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}})]),e._v(" "),r("li",[e._v("Project Dir : "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.project_dir,expression:"project_dir"}],domProps:{value:e.project_dir},on:{input:function(t){t.target.composing||(e.project_dir=t.target.value)}}})]),e._v(" "),r("li",[e._v("SSH Port : "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.ssh_port,expression:"ssh_port"}],domProps:{value:e.ssh_port},on:{input:function(t){t.target.composing||(e.ssh_port=t.target.value)}}})])])]),e._v(" "),r("h3",[e._v("SSH into the server")]),e._v(" "),r("pre",{staticClass:"language-bash command-line",attrs:{"data-prompt":"$","data-output":"9,11-14,16"}},[r("code",[e._v("cd\nmkdir repo.git "+e._s(e.project_dir)+"\ncd repo.git\ngit init --bare\ngit --bare update-server-info\ngit config core.bare false\ngit config receive.denycurrentbranch ignore\ngit config core.worktree /home/"+e._s(e.user)+"/"+e._s(e.project_dir)+"/\n\ncat > hooks/post-receive <<EOF\n#!/bin/sh\ngit checkout -f\nEOF\n\nchmod +x hooks/post-receive\n\nexit")])]),e._v(" "),r("h3",[e._v("On the client")]),e._v(" "),"22"==e.ssh_port?r("pre",{staticClass:"language-bash command-line",attrs:{"data-prompt":"$"}},[r("code",[e._v("git remote add server "+e._s(e.user)+"@"+e._s(e.remote)+":/home/"+e._s(e.user)+"/repo.git/\nssh-copy-id "+e._s(e.user)+"@"+e._s(e.remote)+"\ngit push server --all")])]):r("pre",{staticClass:"language-bash command-line",attrs:{"data-prompt":"$"}},[r("code",[e._v("git remote add server ssh://"+e._s(e.user)+"@"+e._s(e.remote)+":"+e._s(e.ssh_port)+"/home/"+e._s(e.user)+"/repo.git/\nssh-copy-id -p "+e._s(e.ssh_port)+" "+e._s(e.user)+"@"+e._s(e.remote)+"\ngit push server --all")])]),e._v(" "),e._m(0)])],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("\n                You may want to modify your "),r("i",{staticClass:"hl"},[e._v("git post-receive")]),e._v(" hook to run custom commands on the server, like running database migrations, notifying services of new deployments, pushing static files to CDN, etc. \n            ")])}],!1,null,null,null);t.default=component.exports}}]);